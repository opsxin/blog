{% extends "subject/base.html" %}

{% block title %}
<title>{{ article.title }}</title>
{% endblock title %}

{% block adsense %}
{% endblock adsense %}

{% block article %}
<article class="post post-1">
    <header class="entry-header">
        <h1 class="entry-title">{{ article.title }}</h1>
        <div class="entry-meta">
            <span class="post-category"><a
                    href="{% url 'subject:category' article.category_id %}">{{ article.category }}</a></span>
            <span class="post-date"><time class="entry-date"
                    datetime="2020-01-01T00:00:00+00:00">{{ article.modify_time }}</time></span>
            <span class="views-count">{{ article.read_num }} 阅读</span>
        </div>
    </header>
    <div class="entry-content clearfix">
        {{ article.content | safe }}
        {% if article.tags %}
        <hr>
        {% for tag in article.tags %}
        <ion-icon name="pricetag-outline" size="small"></ion-icon> <a
            href="{% url 'subject:tag' tag.id %}">{{ tag.name }}</a>
        {% endfor %}
        {% endif %}
        <hr>
        {% if pre_article.id == 0 %}
        <span class="disabled pre_article">&larr; {{ pre_article.title }}</span>
        {% else %}
        <a href="{% url 'subject:article' pre_article.id %}" class="pre_article">&larr; {{ pre_article.title }}</a>
        {% endif %}
        {% if next_article.id == 0 %}
        <span class="disabled next_article">{{ next_article.title }} &rarr;</span>
        {% else %}
        <a href="{% url 'subject:article' next_article.id %}" class="next_article">{{ next_article.title }} &rarr;</a>
        {% endif %}
    </div>
</article>
{% endblock article %}

{% block directory %}
{% if article.toc %}
<div class="widget widget-content">
    <h3 class="widget-title">文章目录</h3>
    {{ article.toc | safe }}
</div>
{% endif %}
{% endblock directory %}